#============================================================
# 1960-2010联邦财政预算
#============================================================

#------------------------------------------------------------
# 数据来自2010年美国总统经济报告
#------------------------------------------------------------
year=1960:2010                      # 政府预算年（如，1959年
# 10月到1960年9月为1960年
# 的财政年度）
#----------------------------------
unemploy=c(5.5,6.7,5.5,5.7,5.2,4.5,
           3.8,3.8,3.6,3.5,4.9,5.9,
           5.6,4.9,5.6,8.5,7.7,7.1,
           6.1,5.8,7.1,7.6,9.7,9.6,
           7.5,7.2,7.0,6.2,5.5,5.3,
           5.6,6.8,7.5,6.9,6.1,5.6,
           5.4,4.9,4.5,4.2,4.0,4.7,
           5.8,6.0,5.5,5.1,4.6,4.6,
           5.8,9.3,9.6)             # 居民失业率（%）
#----------------------------------
surplus=c(0.1,-0.6,-1.3,-0.8,-0.9,
          -0.2,-0.5,-1.1,-2.9,0.3,
          -0.3,-2.1,-2.0,-1.1,-0.4,
          -3.4,-4.2,-2.7,-2.7,-1.6,
          -2.7,-2.6,-4.0,-6.0,-4.8,
          -5.1,-5.0,-3.2,-3.1,-2.8,
          -3.9,-4.5,-4.7,-3.9,-2.9,
          -2.2,-1.4,-0.3,0.8,1.4,
          2.4,1.3,-1.5,-3.5,-3.6,
          -2.6,-1.9,-1.2,-3.2,-10.0,
          -8.9)                     # 预算盈余或亏损（按当年
# 国民生产总值的百分比计算）
#----------------------------------
party=c("R","R","D","D","D","D","D",
        "D","D","D","R","R","R","R",
        "R","R","R","R","D","D","D",
        "D","R","R","R","R","R","R",
        "R","R","R","R","R","R","D",
        "D","D","D","D","D","D","D",
        "R","R","R","R","R","R","R",
        "R","D")                    # 总统所代表的政党（D表示民主
# 党，R表示共和党）
#----------------------------------

#------------------------------------------------------------
#散点图
#------------------------------------------------------------
plot(surplus,unemploy,type="p",xlab="预算盈余",ylab="居民失业率")

#------------------------------------------------------------
#并列箱线图
#------------------------------------------------------------
boxplot(unemploy~party,range=0,
        names=c("民主党","共和党"),
        boxwex=.5,ylab="居民失业率")  # unemploy~party按政党划分
                                      # boxwex=0.5将箱宽设为默认
                                      # 一半，range=0将图延伸至
                                      # 最大最小值

#------------------------------------------------------------
# 提取两个政党的数据
#------------------------------------------------------------
mns=c(mean(unemploy[party=="D"]),
      mean(unemploy[party=="R"]))     # 将两个政党的执政年失业率
                                      # 用向量合并

#------------------------------------------------------------
# 条形图
#------------------------------------------------------------
barplot(mns,xlim=c(0,1),width=.1,
        ylim=c(0,7),ylab="平均失业率",
        names.arg=c("民主党","共和党"),
        space=2)                      # xlim,ylim设置x,y轴范围，
                                      # width=0.1将宽度设为默认的
                                      # 0.1倍，space=2将间隔设为
                                      # 条宽的2倍

#------------------------------------------------------------
# 饼图
#------------------------------------------------------------
num.yrs=c(length(year[party=="D"]),length(year[party=="R"]))
pie(num.yrs,labels=c("民主党","共和党"))
